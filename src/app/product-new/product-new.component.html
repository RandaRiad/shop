
<div class="container">
<div class="row">
    <div class="col-md-6">
        <form [formGroup]="form" class="container" #product="ngForm" (ngSubmit)= saveAndUpdate(product.value) >
            <label>Title</label>
            <input type="text" id="title" class='form-control' [(ngModel)]="productById.title" formControlName="title">
            <div *ngIf="form.controls.title.touched &&form.controls.title.invalid" class="alert alert-danger">
              <div *ngIf="form.controls.title.errors?.required">Please Enter  Product Title</div>
        
          </div>
        
          <br>
        
          <label for="price">Price</label>
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text">$</span>
            </div><br>
            <input  type="text" class="form-control"  formControlName="price" [(ngModel)]="productById.price" aria-label="Amount (to the nearest dollar)" id='price'>
            <div class="input-group-append">
              <span class="input-group-text">.00</span>
            </div>
          </div>
          <div *ngIf="form.controls.price.touched &&form.controls.price.invalid" class="alert alert-danger">
            <div *ngIf="form.controls.price.errors?.required">Please Enter  Product Price</div>
            <div *ngIf="form.controls.price.errors?.min">Min Price is Zero</div>
        
        </div>
          <br>
          <div class="form-gourp">
            <label for="category">Category</label><br>
            <select id="category" class="form-control" [(ngModel)]="productById.category" formControlName="category"  >
                <option value="" disabled selected>Select your Categories</option>
        
              <option *ngFor="let category of categoryProduct$|async" [value]="category.name" >{{category.name}}</option>
            </select>
            <div *ngIf="form.controls.category.touched &&form.controls.category.invalid" class="alert alert-danger">
                <div *ngIf="form.controls.category.errors?.required">Please choose Categories</div>
            </div>
          </div>
         <br>
          <div class="form-gourp">
            <label for="imageUrl">Image Url</label>
            <input type="text" id="imageUrl"  class='form-control'[(ngModel)]="productById.imageUrl" formControlName="imageUrl" >
            <div *ngIf="form.controls.imageUrl.touched &&form.controls.imageUrl.invalid" class="alert alert-danger">
              <div *ngIf="form.controls.imageUrl.errors?.required">Please Enter  ImageUrl</div>
              <div *ngIf="form.controls.imageUrl.errors?.url">Please Enter Valid Url</div>
        
          </div>
          </div>
          <br>
          <button type="submit"   [disabled]="!form.valid" class="btn btn-primary">Save</button>
          <button type="button"   [disabled]="!form.valid" class="btn btn-danger" (click)="delete()">Delete</button>

        </form>
    </div>
    <div class="col-md-6">
        <div class="card" *ngIf="productById.title" style="width: 18rem;">
            <img class="card-img-top" [src]="productById.imageUrl" *ngIf="productById.imageUrl" >
            <div class="card-body">
              <h5 class="card-title" >{{productById.title}} </h5>
              <h5 class="card-title">{{productById.category}}</h5>

              <h5 class="card-text">{{productById.price|currency:"USD":true}}</h5>
            </div>
          </div>
    </div></div>